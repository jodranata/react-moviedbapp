(this.webpackJsonp3_moviedb=this.webpackJsonp3_moviedb||[]).push([[0],{12:function(e,t,a){},17:function(e,t,a){e.exports=a(28)},28:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(2),i=a.n(s),o=(a(12),a(9)),l=a.n(o),m=a(13),d=a(3),u=a(4),h=a(6),p=a(5),f=a(7),v=a(30),g=a(14),b=a(15),E="https://www.themoviedb.org/assets/2/v4/logos/powered-by-rectangle-green-dcada16968ed648d5eb3b36bbcfdd8cdf804f723dcca775c8f2bf4cea025aad6.svg";function w(e){var t=e.handleChange,a=e.handleSubmit,n=e.resetSearchedListState,r=e.fontIcon,s=e.hideFontAwesome;return c.a.createElement("div",{className:"search-header"},c.a.createElement("img",{src:E,alt:"",className:"tmdb-logo"}),c.a.createElement("form",{onSubmit:a},c.a.createElement("div",{className:"input-bar"},c.a.createElement("input",{type:"text",onChange:function(e){return t(e.target.value)},name:"search",placeholder:"Movie title..",autoComplete:"off",className:"search-input",onBlur:n,onFocus:s}),r&&c.a.createElement(g.a,{icon:b.a,className:"search-icon"}))))}function N(e){if(e)return e.map((function(e){return e.name})).join(", ")}var y=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){document.body.style.backgroundImage="url(".concat(n,")"),console.log("updated")}},{key:"render",value:function(){var e=this.props.details,t=e.title,a=e.genres,r=e.companies,s=e.releaseDate,i=e.runtime,o=e.overview,l=e.tagline,m=e.backdrop,d=e.poster,u=e.vote,h=N(a),p=N(r),f=d?"https://image.tmdb.org/t/p/w500".concat(d):"http://placehold.jp/300/919191/ffffff/500x750.png?text=%3F&css=%7B%22border%22%3A%22%2014px%20solid%20rgba(0%2C0%2C0%2C0.2)%22%7D";n="https://image.tmdb.org/t/p/original".concat(m);var v=u?"".concat(u.toFixed(1)):"-",g=s?s.slice(0,4):"-";return c.a.createElement("div",{className:"card-section"},c.a.createElement("div",{className:"card-poster-section"},c.a.createElement("img",{src:f,alt:""})),c.a.createElement("div",{className:"card-details-section"},c.a.createElement("div",{className:"title-detail"},c.a.createElement("h1",null,t),l&&c.a.createElement("p",null,l)),c.a.createElement("div",{className:"vote-detail"},c.a.createElement("h2",null,v)),c.a.createElement("div",{className:"overview-detail"},c.a.createElement("p",{className:"overview-text"},o),c.a.createElement("div",{className:"tag-details"},h&&c.a.createElement("div",{className:"genres-tag"},c.a.createElement("p",null,h)),p&&c.a.createElement("div",{className:"companies-tag"},c.a.createElement("p",null,p)),s&&c.a.createElement("div",{className:"opt-tag"},c.a.createElement("p",{className:"tag"},"Year:"),c.a.createElement("p",null,g)),i&&c.a.createElement("div",{className:"opt-tag"},c.a.createElement("p",{className:"tag"},"Runtime:"),c.a.createElement("p",null,function(e){if(void 0===e||null===e||e<1)return 0;if(e<=60)return"".concat(e," mins");var t=Math.floor(e/60),a=e-60*t,n=t>1?"hrs":"hr",r=a>1?"mins":"min";return"".concat(t," ").concat(n," ").concat(a," ").concat(r)}(i)))))))}}]),t}(c.a.Component);function S(e){var t=e.searchedList,a=e.handleClick,n=t.map((function(e){var t=e.titles,n=e.ids,r=e.icons,s=r?"https://image.tmdb.org/t/p/w500".concat(r):"http://placehold.jp/300/919191/ffffff/500x750.png?text=%3F&css=%7B%22border%22%3A%22%2014px%20solid%20rgba(0%2C0%2C0%2C0.2)%22%7D",i=e.year?e.year.slice(0,4):"-";return c.a.createElement("li",{onClick:function(){return a(n)},onKeyDown:function(e){13===e.keyCode&&a(n)},role:"option",key:n,"aria-selected":"false",className:"lists"},c.a.createElement("img",{src:s,alt:"",className:"list-icon"}),c.a.createElement("div",{className:"list-detail"},c.a.createElement("p",{className:"list-title"},t),c.a.createElement("p",{className:"list-year"},i)))}));return c.a.createElement("div",{className:"suggestions-header"},c.a.createElement("ul",{className:"suggestions-list",role:"listbox","aria-multiselectable":"true"},n))}var k="da2d7c1da5f30b2d200caef54d3a17d9";var C=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).fetchAPI=function(e){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat(k,"&query=").concat(e);fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e);var t,n=e.results,r=e.errors;t=e.total_results>=1&&!r?n.map((function(e){return{titles:e.title,ids:e.id,icons:e.poster_path,year:e.release_date}})):null,a.setState({searchedList:t,isShown:!0})}))},a.handleChange=function(e){var t=a.tokenize(e);console.log(t),t.length>=2?a.fetchAPI(t):t.length<1&&a.setState({searchedList:null,isShown:!1})},a.tokenize=function(e){return e.trim().toLowerCase().replace(/\s/gi,"%20")},a.searchByID=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(k),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,a.setState({searchedList:null,details:{title:c.title,genres:c.genres,companies:c.production_companies,releaseDate:c.release_date,runtime:c.runtime,overview:c.overview,tagline:c.tagline,backdrop:c.backdrop_path,poster:c.poster_path,vote:c.vote_average}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleClick=function(e){var t=e;console.log(t),a.searchByID(t)},a.handleSubmit=function(e){e.preventDefault();var t=a.state.searchedList;if(null!==t){var n=t[0].ids;a.searchByID(n)}},a.resetSearchedListState=function(){a.setState({isShown:!1}),setTimeout((function(){a.setState({searchedList:null,isShown:!1,fontIcon:!0})}),300)},a.hideFontAwesome=function(){a.setState({fontIcon:!1})},a.state={isShown:!1,searchedList:null,fontIcon:!0},a.handleChange=function(e,t){var a,n=this;return function(){for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];var i=n;clearTimeout(a),a=setTimeout((function(){return e.apply(i,c)}),t)}}(a.handleChange,300),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchedList,a=e.details,n=e.isShown,r=e.fontIcon,s=this.handleChange,i=this.handleClick,o=this.handleSubmit,l=this.resetSearchedListState,m=this.hideFontAwesome;return c.a.createElement("div",{className:"app-container"},c.a.createElement("div",{className:"suggestions-list-section"},c.a.createElement(w,{handleChange:s,handleSubmit:o,resetSearchedListState:l,fontIcon:r,hideFontAwesome:m}),t&&c.a.createElement(v.a,{in:n,timeout:300,classNames:"suggestions-fade",mountOnEnter:!0,appear:!0,exit:!0},c.a.createElement(S,{searchedList:t,handleClick:i}))),a&&c.a.createElement(y,{details:a}))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.b1911517.chunk.js.map